{% extends "base/theme_base.html" %}

{% load widget_tweaks %}

{% block page_title %}修改密码{% endblock %}

{% block body_base %}
<form action="{% url acct_change_pwd %}" method="POST" class="form-common">
	{% csrf_token %}
	<div class="container">
		<div class="input-prepend">
			<span class="add-on"><i class="icon-lock"></i></span>{{pwdform.oldpassword|attr:"lyu:OldPassword"|attr:"bl:OldPassword_msg"|attr:"placeholder:原密码 | oldPpassword"|attr:"class:span2"|attr:"type:password"|attr:"style:margin:0px;"}} <label id="OldPassword_msg" class="help-inline error_msg"></label>
			<p class="help-block">
				{{pwdform.oldpassword.errors}}
			</p>
		</div>

		<div class="input-prepend">
			<span class="add-on"><i class="icon-lock"></i></span>{{pwdform.password1|attr:"lyu:NewPassword"|attr:"bl:NewPassword_msg"|attr:"placeholder:新密码 | newPassword"|attr:"class:span2"|attr:"type:password"|attr:"style:margin:0px;"}} <label id="NewPassword_msg" class="help-inline error_msg"></label>
			<p class="help-block">
				{{pwdform.password1.errors}}
			</p>
		</div>

		<div class="input-prepend">
			<span class="add-on"><i class="icon-lock"></i></span>{{pwdform.password2|attr:"lyu:NewPasswordConfirm"|attr:"bl:NewPasswordConfirm_msg"|attr:"placeholder:重复新密码 | newPassword"|attr:"class:span2"|attr:"type:password"|attr:"style:margin:0px;"}} <label id="NewPasswordConfirm_msg" class="help-inline error_msg"></label>
			<p class="help-block">
				{{pwdform.password2.errors}}
			</p>
		</div>
		<div class="input-prepend">
			<button class="btn btn-small" type="submit" id="btn_login" onclick="return check_updatePwd()">
				<i class="icon-ok"></i> 确认修改
			</button>
			<a href="{% url profiles_setting %}">返回</a>
		</div>
	</div>
</form>
{% endblock %}
{% block single_js %}
<script type="text/javascript" src="{{STATIC_URL}}lyu/plug-in.js"></script>
<script>
	$(document).ready(function(){
		lyu_load();
	});
	function check_updatePwd(){
		if(!check_oldPassword_lyu($("[lyu='OldPassword']"))){
			return false;
		}
		if(!check_newPassword_lyu($("[lyu='NewPassword']"))){
			return false;
		}
		if(!check_newPasswordConfirm_lyu($("[lyu='NewPasswordConfirm']"))){
			return false;
		}
	}
</script>
{% endblock %}   